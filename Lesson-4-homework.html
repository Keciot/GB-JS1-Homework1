<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 3 exercise 1</title>
</head>

<body>
    <h3>Задание 1</h3>
    <p> Попробуем выполнить двумя способами, математическим и гуманитарным =)<br><br>
        <script>
            var intake;
            var result = {
                hundreds: 0,
                tens: 0,
                numbers: 0
            };

            function getResult() {
                intake = prompt('Введите число от 0 до 999'); // да здесь строка специально
                if (intake >= 0 && intake < 1000) {
                    if (intake.length > 1) {
                        result.numbers = intake.slice(-1); // единицы это всегда последнее значение строки
                        for (var i = 2; i <= intake.length;) { // цикл для последовательного нахождения следующих значений, если они есть
                            var finder = intake.slice(-i, -i + 1); // находим число из последовательности
                            i == 2 ? result.tens = finder : result.hundreds = finder; // перебираем куда писать значение 
                            console.log(intake.slice(-1));
                            i++;

                        }
                    } else {
                        result.numbers = intake;
                    }
                    console.log(result);
                    document.write('Вы ввели ' + intake + ' <br> В этом числе содержится:  <br> Сотни: ' + result.hundreds + '<br> Десятки: ' + result.tens + ' <br> Единицы: ' + result.numbers);

                } else {
                    alert('Ну нет, от 0 до 999, пожалуйста');
                    console.log('Введено некорректное значение');
                    console.log(result);
                    getResult();
                }
            }

            getResult();

            console.log(intake); // на всякий случай для отладки
        </script>

        <br><br>Можно короче и не городить функцию, она нужна только для того, чтобы вывести в консоль пустой объект, если введено неверное значение<br><br>

        <h4>Вопрос, возникший во время решения</h4>

        <br><br>Я столкнулась с тем, что после 13 значений в поле ввода, какие бы проверки не стояли, они перестают работать и число (текст) мимо проверок пишется в переменную как строка.<br><br> по идее 13 разрядов числа это все еще меньше допустимого безопасного максимума в 2 в 54 степени - меньше на 3 разряда, то есть этим явлением не объясняется. <br><br>С заведомо строковыми значениями - буквами, та же история. Пока букв 12 - проверки работают корректно, выдают алерт о некорректном вводе. Когда символов 13 и больше - не работают вообще, как будто их и нет. <br><br>Нагуглить причину явления и как ограничить такой беспредел - не удалось. Это какие-то специфические ограничения prompt? Если написать через Input, например: <br>
        &lt input type="number" min="0" max="999" id="given" required / &gt <br>
        таких проблем нет, потому что невалидное значение просто не передается в переменную...



    </p>



</body>

</html>